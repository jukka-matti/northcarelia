<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pohjois-Karjala - Dashboard</title>
    
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300;400;500;600;700&family=Space+Mono:wght@400;700&display=swap');
        
        body { 
            margin: 0; 
            background: linear-gradient(135deg, #0a1e1e 0%, #1a3a3a 50%, #2d5016 100%);
            color: #e8f5e9; 
            font-family: 'IBM Plex Sans', sans-serif;
            min-height: 100vh;
            overflow-y: auto;
        }
        .container { padding: 60px 20px; max-width: 1400px; margin: 0 auto; }
        .card { 
            background: rgba(255,255,255,0.05); 
            padding: 30px; 
            border-radius: 24px; 
            margin-bottom: 24px; 
            border: 1px solid rgba(255,255,255,0.1); 
            backdrop-filter: blur(20px);
        }
        .nav { display: flex; gap: 12px; margin-bottom: 48px; }
        .nav-btn { 
            padding: 14px 28px; border-radius: 12px; border: none; cursor: pointer; font-weight: 600; 
            background: rgba(255,255,255,0.05); color: #b2dfdb; transition: all 0.2s;
        }
        .nav-btn.active { background: rgba(74, 124, 89, 0.4); color: white; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
        h1 { font-size: clamp(2.5rem, 6vw, 4rem); font-weight: 800; background: linear-gradient(135deg, #e8f5e9 0%, #90be6d 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .mono { font-family: 'Space Mono', monospace; }
        .bar-container { display: flex; align-items: flex-end; gap: 10px; height: 300px; padding-top: 40px; margin-top: 20px; }
        .bar-item { flex: 1; display: flex; flexDirection: column; align-items: center; gap: 10px; }
        .bar { width: 100%; background: #90be6d; border-radius: 8px 8px 0 0; transition: height 1s ease-out; position: relative; min-height: 2px; }
        .bar:hover { background: #4a7c59; }
        .bar-val { position: absolute; top: -25px; width: 100%; text-align: center; font-size: 12px; font-weight: bold; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const BarChart = ({ data }) => {
            const max = Math.max(...data.map(d => d.val));
            const min = Math.min(...data.map(d => d.val)) * 0.99;
            
            return (
                <div className="bar-container">
                    {data.map((d, i) => {
                        const height = ((d.val - min) / (max - min)) * 100;
                        return (
                            <div key={i} className="bar-item">
                                <div className="bar" style={{ height: `${Math.max(height, 5)}%` }}>
                                    <div className="bar-val mono">{d.val.toLocaleString()}</div>
                                </div>
                                <div className="mono" style={{fontSize: '12px', color: '#b2dfdb'}}>{d.name}</div>
                            </div>
                        );
                    })}
                </div>
            );
        };

        function Dashboard() {
            const [tab, setTab] = React.useState('overview');
            const data = [
                { name: '2019', val: 164500 }, { name: '2020', val: 163800 },
                { name: '2021', val: 163200 }, { name: '2022', val: 162800 },
                { name: '2023', val: 162321 }, { name: '2024', val: 162202 }
            ];

            return (
                <div className="container">
                    <header style={{marginBottom: '50px'}}>
                        <div style={{background: '#4a7c59', color: 'white', padding: '10px 20px', borderRadius: '10px', display: 'inline-block', marginBottom: '20px', fontWeight: 'bold'}}>
                            FIXED v1.4 - Please Hard Refresh (Cmd+Shift+R)
                        </div>
                        <h1>Pohjois-Karjala</h1>
                        <p style={{fontSize: '1.2rem', color: '#b2dfdb', fontWeight: '300'}}>Visuaalinen katsaus maakunnan kehitykseen</p>
                    </header>

                    <div className="nav">
                        <button className={`nav-btn ${tab === 'overview' ? 'active' : ''}`} onClick={() => setTab('overview')}>ðŸ“Š Tilastot</button>
                        <button className={`nav-btn ${tab === 'story' ? 'active' : ''}`} onClick={() => setTab('story')}>âœ¨ Projektin tarina</button>
                    </div>

                    {tab === 'overview' && (
                        <div>
                            <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: '24px', marginBottom: '32px'}}>
                                <div className="card">
                                    <div style={{color: '#b2dfdb', fontSize: '14px', marginBottom: '10px'}}>VÃ„ESTÃ–</div>
                                    <div style={{fontSize: '3rem', fontWeight: '800'}} className="mono">162 202</div>
                                    <div style={{color: '#e76f51', fontSize: '14px'}}>â–¼ -0,1% lasku</div>
                                </div>
                                <div className="card">
                                    <div style={{color: '#b2dfdb', fontSize: '14px', marginBottom: '10px'}}>UUSIUTUVA ENERGIA</div>
                                    <div style={{fontSize: '3rem', fontWeight: '800'}} className="mono">72%</div>
                                    <div style={{color: '#90be6d', fontSize: '14px'}}>â–² Omavaraisuus 69%</div>
                                </div>
                            </div>
                            <div className="card">
                                <h3 style={{marginBottom: '10px'}}>VÃ¤estÃ¶n kehitys (2019-2024)</h3>
                                <BarChart data={data} />
                            </div>
                        </div>
                    )}

                    {tab === 'story' && (
                        <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: '24px'}}>
                            {[
                                { t: 'VAIHE 1: Data', d: 'Pohjois-Karjalan liiton PDF-raportti.', c: '#f4a261' },
                                { t: 'VAIHE 2: AI', d: 'Claude 4.5 Sonnet koodasi dashboardin.', c: '#2a9d8f' },
                                { t: 'VAIHE 3: TyÃ¶kalut', d: 'Cursor IDE ja Git-automaatio.', c: '#4a7c59' },
                                { t: 'VAIHE 4: Live', d: 'Vercel-julkaisu.', c: '#8ecae6' }
                            ].map((item, i) => (
                                <div key={i} className="card">
                                    <h3 style={{color: item.c, marginBottom: '15px'}}>{item.t}</h3>
                                    <p style={{color: '#b2dfdb', lineHeight: '1.6'}}>{item.d}</p>
                                </div>
                            ))}
                        </div>
                    )}
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<Dashboard />);
    </script>
</body>
</html>

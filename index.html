<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pohjois-Karjala - Dashboard</title>
    
    <!-- React -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300;400;500;600;700&family=Space+Mono:wght@400;700&display=swap');
        
        body { 
            margin: 0; 
            background: linear-gradient(135deg, #0a1e1e 0%, #1a3a3a 50%, #2d5016 100%);
            color: #e8f5e9; 
            font-family: 'IBM Plex Sans', sans-serif;
            min-height: 100vh;
        }
        .container { padding: 60px 20px; max-width: 1400px; margin: 0 auto; position: relative; z-index: 1; }
        .card { 
            background: rgba(255,255,255,0.03); 
            padding: 30px; 
            border-radius: 24px; 
            margin-bottom: 24px; 
            border: 1px solid rgba(255,255,255,0.1); 
            backdrop-filter: blur(20px);
        }
        .nav { display: flex; gap: 12px; margin-bottom: 48px; flex-wrap: wrap; }
        .nav-btn { 
            padding: 14px 28px; 
            border-radius: 12px; 
            border: 2px solid rgba(255,255,255,0.1); 
            cursor: pointer; 
            font-weight: 600; 
            background: rgba(255,255,255,0.05);
            color: #b2dfdb;
        }
        .nav-btn.active { 
            background: rgba(74, 124, 89, 0.4); 
            color: white; 
            border-color: rgba(74, 124, 89, 0.6);
        }
        h1 { 
            font-size: clamp(2.5rem, 6vw, 4.5rem); 
            font-weight: 800;
            background: linear-gradient(135deg, #e8f5e9 0%, #90be6d 100%); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            margin-bottom: 16px;
        }
        .mono { font-family: 'Space Mono', monospace; }
        .badge {
            display: inline-block;
            padding: 6px 14px;
            background: rgba(74, 124, 89, 0.2);
            border: 1px solid rgba(74, 124, 89, 0.3);
            border-radius: 20px;
            font-size: 12px;
            color: #90be6d;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // Custom SVG Chart Component (Zero Dependencies)
        const SimpleAreaChart = ({ data }) => {
            const width = 1000;
            const height = 400;
            const padding = 40;
            
            const minVal = 161000;
            const maxVal = 165000;
            const range = maxVal - minVal;
            
            const points = data.map((d, i) => {
                const x = (i / (data.length - 1)) * (width - padding * 2) + padding;
                const y = height - ((d.val - minVal) / range) * (height - padding * 2) - padding;
                return { x, y };
            });
            
            const pathData = `M ${points[0].x} ${points[0].y} ` + 
                points.slice(1).map(p => `L ${p.x} ${p.y}`).join(' ') +
                ` L ${points[points.length-1].x} ${height} L ${points[0].x} ${height} Z`;
                
            const lineData = `M ${points[0].x} ${points[0].y} ` + 
                points.slice(1).map(p => `L ${p.x} ${p.y}`).join(' ');

            return (
                <svg viewBox={`0 0 ${width} ${height}`} width="100%" height="100%" preserveAspectRatio="none">
                    <defs>
                        <linearGradient id="grad" x1="0" y1="0" x2="0" y2="1">
                            <stop offset="0%" stopColor="#90be6d" stopOpacity="0.4" />
                            <stop offset="100%" stopColor="#4a7c59" stopOpacity="0.05" />
                        </linearGradient>
                    </defs>
                    <path d={pathData} fill="url(#grad)" />
                    <path d={lineData} fill="none" stroke="#90be6d" strokeWidth="4" />
                    {points.map((p, i) => (
                        <g key={i}>
                            <circle cx={p.x} cy={p.y} r="6" fill="#90be6d" />
                            <text x={p.x} y={height - 10} textAnchor="middle" fill="#b2dfdb" fontSize="14" className="mono">{data[i].name}</text>
                            <text x={p.x} y={p.y - 15} textAnchor="middle" fill="white" fontSize="16" fontWeight="bold" className="mono">{data[i].val.toLocaleString()}</text>
                        </g>
                    ))}
                </svg>
            );
        };

        function Dashboard() {
            const [tab, setTab] = React.useState('overview');
            
            const data = [
                { name: '2019', val: 164500 }, { name: '2020', val: 163800 },
                { name: '2021', val: 163200 }, { name: '2022', val: 162800 },
                { name: '2023', val: 162321 }, { name: '2024', val: 162202 }
            ];

            return (
                <div className="container">
                    <header style={{marginBottom: '50px'}}>
                        <div className="badge mono">TILANNE- JA KEHITYSKUVA 2024</div>
                        <h1>Pohjois-Karjala <span style={{fontSize: '1rem', opacity: 0.5}}>v1.1</span></h1>
                        <p style={{fontSize: '1.4rem', color: '#b2dfdb', fontWeight: '300', maxWidth: '800px'}}>Visuaalinen katsaus maakunnan v√§est√∂√∂n, talouteen ja ymp√§rist√∂√∂n.</p>
                    </header>

                    <div className="nav">
                        {['overview', 'population', 'economy', 'story'].map(t => (
                            <button key={t} className={`nav-btn ${tab === t ? 'active' : ''}`} onClick={() => setTab(t)}>
                                {t === 'overview' ? 'üìä Yleiskuva' : 
                                 t === 'population' ? 'üë• V√§est√∂' : 
                                 t === 'economy' ? 'üíº Talous' : '‚ú® Projektin tarina'}
                            </button>
                        ))}
                    </div>

                    {tab === 'overview' && (
                        <div>
                            <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: '24px', marginBottom: '32px'}}>
                                <div className="card">
                                    <div style={{color: '#b2dfdb', fontSize: '14px', marginBottom: '10px'}}>V√ÑEST√ñ</div>
                                    <div style={{fontSize: '3rem', fontWeight: '800'}} className="mono">162 202</div>
                                    <div style={{color: '#e76f51', fontSize: '14px', marginTop: '5px'}}>‚ñº -0,1% lasku</div>
                                </div>
                                <div className="card">
                                    <div style={{color: '#b2dfdb', fontSize: '14px', marginBottom: '10px'}}>UUSIUTUVA ENERGIA</div>
                                    <div style={{fontSize: '3rem', fontWeight: '800'}} className="mono">72%</div>
                                    <div style={{color: '#90be6d', fontSize: '14px', marginTop: '5px'}}>‚ñ≤ Omavaraisuus 69%</div>
                                </div>
                                <div className="card">
                                    <div style={{color: '#b2dfdb', fontSize: '14px', marginBottom: '10px'}}>P√Ñ√ÑST√ñV√ÑHENNYS</div>
                                    <div style={{fontSize: '3rem', fontWeight: '800'}} className="mono">44%</div>
                                    <div style={{color: '#2a9d8f', fontSize: '14px', marginTop: '5px'}}>Tavoite 80%</div>
                                </div>
                            </div>
                            
                            <div className="card">
                                <h3 style={{marginBottom: '30px', fontSize: '1.5rem'}}>V√§est√∂n kehityssuunta</h3>
                                <div style={{ height: '400px' }}>
                                    <SimpleAreaChart data={data} />
                                </div>
                            </div>
                        </div>
                    )}

                    {tab === 'story' && (
                        <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '24px'}}>
                            {[
                                { step: '01', t: 'DATA-ANALYYSI', d: 'Pohjois-Karjalan liiton PDF-raportti analysoitiin teko√§lyll√§ maakunnan tilannekuvan luomiseksi.', c: '#f4a261' },
                                { step: '02', t: 'AI-KEHITYS', d: 'Claude 4.5 Sonnet muunsi monimutkaiset tilastot visuaaliseksi React-pohjaiseksi koodiksi.', c: '#2a9d8f' },
                                { step: '03', t: 'CURSOR IDE', d: 'Cursorin ja teko√§lyparin avulla koodi hiottiin ja projektinhallinta automatisoitiin.', c: '#4a7c59' },
                                { step: '04', t: 'VERCEL LIVE', d: 'Projekti on julkaistu Vercelin kautta, mik√§ mahdollistaa v√§litt√∂m√§n saavutettavuuden.', c: '#8ecae6' }
                            ].map((item, i) => (
                                <div key={i} className="card" style={{display: 'flex', flexDirection: 'column', gap: '15px'}}>
                                    <div className="mono" style={{color: item.c, fontSize: '14px', fontWeight: '700'}}>{item.step} ‚Äî</div>
                                    <h3 style={{fontSize: '1.5rem', fontWeight: '700'}}>{item.t}</h3>
                                    <p style={{lineHeight: '1.8', color: '#b2dfdb', flexGrow: 1}}>{item.d}</p>
                                </div>
                            ))}
                        </div>
                    )}

                    {tab === 'population' && (
                        <div className="card">
                            <h3 style={{marginBottom: '20px'}}>V√§est√∂rakenteen haasteet</h3>
                            <p style={{lineHeight: '1.8', color: '#b2dfdb'}}>Pohjois-Karjalan v√§est√∂rakenteen suurin haaste on ik√§√§ntyminen ja syntyvyyden lasku. Vuonna 2023 syntyi vain 1 002 lasta, mik√§ on historiallisen v√§h√§n.</p>
                        </div>
                    )}

                    {tab === 'economy' && (
                        <div className="card">
                            <h3 style={{marginBottom: '20px'}}>Talous ja ty√∂llisyys</h3>
                            <p style={{lineHeight: '1.8', color: '#b2dfdb'}}>Maakunnan ty√∂tt√∂myysaste on ollut maan korkeimpia, ollen 13,1% lokakuussa 2024. Samaan aikaan puhtaan siirtym√§n investoinnit ja NATO-j√§senyys tuovat uusia mahdollisuuksia.</p>
                        </div>
                    )}

                    <footer style={{marginTop: '100px', padding: '40px 0', borderTop: '1px solid rgba(255,255,255,0.05)', textAlign: 'center', color: '#607d8b'}}>
                        <p className="mono" style={{fontSize: '12px'}}>L√ÑHDE: POHJOIS-KARJALAN TILANNE- JA KEHITYSKUVA (2024)</p>
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<Dashboard />);
    </script>
</body>
</html>
